ngx_addon_name=ngx_http_test_traffic_status_module
have=NGX_TEST_STATUS . auto/have

HTTP_TEST_SRCS=" \
                $ngx_addon_dir/ngx_http_test_status_module.c             \
                $ngx_addon_dir/ngx_http_test_status_module_variable.c          \
                $ngx_addon_dir/ngx_http_test_status_module_node.c            \
                $ngx_addon_dir/ngx_http_test_status_module_prome.c               \
                $ngx_addon_dir/ngx_http_test_status_module_shm.c              \
                " 


HTTP_TEST_DEPS=" \
                $ngx_addon_dir/ngx_http_test_status_module.h             \
                $ngx_addon_dir/ngx_http_test_status_module_variable.h          \
                $ngx_addon_dir/ngx_http_test_status_module_node.h            \
                $ngx_addon_dir/ngx_http_test_status_module_prome.h               \
                $ngx_addon_dir/ngx_http_test_status_module_shm.h              \
                $ngx_addon_dir/ngx_http_test_status_module_html.h              \
                "
if test -n "$ngx_module_link"; then
    ngx_module_type=HTTP
    ngx_module_name=$ngx_addon_name
    ngx_module_deps="$HTTP_TEST_DEPS"
    ngx_module_srcs="$HTTP_TEST_SRCS"

    . auto/module
else
    HTTP_MODULES="$HTTP_MODULES ngx_http_test_traffic_status_module"
    NGX_ADDON_SRCS="$NGX_ADDON_SRCS $HTTP_TEST_SRCS"
    NGX_ADDON_DEPS="$NGX_ADDON_DEPS $HTTP_TEST_DEPS"
fi
